<% html_title t(:label_administration), t("project_module_storages"), t('storages.label_new_file_storage') %>
<% local_assigns[:additional_breadcrumb] = t('storages.label_new_file_storage') %>

<%= render(Primer::OpenProject::PageHeader.new) do |header| %>
  <% header.with_title(test_selector: 'storage-name-title') do %>
    <%= t("storages.label_new_file_storage") %>
  <% end %>

  <% header.with_back_button(href: admin_settings_storages_path, 'aria-label':  I18n.t("button_back")) %>

  <% header.with_parent_link(href: admin_settings_storages_path, 'aria-label':  I18n.t("button_back")) do %>
    <%= t(:project_module_storages) %>
  <% end %>

  <% header.with_description do %>
    <%=
    t("storages.instructions.new_storage",
      new_storage_link_text: render(
        Primer::Beta::Link.new(href: ::OpenProject::Static::Links[:storage_docs][:setup][:href], target: '_blank')
      ) { t("storages.instructions.new_storage_link_text") }
    ).html_safe
    %>
  <% end %>

<% end %>

<%= render(::Storages::Admin::SelectStorageProviderComponent.new(@storage)) %>
