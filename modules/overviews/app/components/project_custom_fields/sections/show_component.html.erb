<%=
  component_wrapper do
    flex_layout(border: :bottom, pb: 2) do |details_container|
      details_container.with_row(mb: 2) do
        flex_layout(align_items: :center, justify_content: :space_between) do |heading|
          heading.with_column(flex: 1) do
            render(Primer::Beta::Heading.new(tag: :h4)) { @project_custom_field_section.name }
          end

          heading.with_column do
            render(OpTurbo::OpPrimer::AsyncDialogComponent.new(
              id: "edit-project-attributes-dialog-#{@project_custom_field_section.id}",
              src: project_attribute_section_dialog_path(project_id: @project.id, section_id: @project_custom_field_section.id),
              size: :medium_portrait,
              title: "#{t('label_edit')} #{ @project_custom_field_section.name }",
              button_icon: :pencil,
              button_attributes: { scheme: :invisible }
            ))
          end
        end
      end

      sorted_project_custom_fields.each do |project_custom_field|
        details_container.with_row(mb: 3) do
          render(ProjectCustomFields::Sections::ProjectCustomFields::ShowComponent.new(
            project_custom_field: project_custom_field,
            project_custom_field_values: get_eager_loaded_project_custom_field_values_for(project_custom_field.id)
          ))
        end
      end
    end
  end
%>
