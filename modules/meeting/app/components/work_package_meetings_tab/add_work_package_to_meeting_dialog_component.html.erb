<%=
  render(Primer::Alpha::Dialog.new(title: t("label_add_work_package_to_meeting_dialog_title"),
                                   size: :xlarge,
                                   id: 'add-work-package-to-meeting-dialog')) do |d|
    d.with_header(variant: :large)
    d.with_body do
      primer_form_with(
        model: @meeting_agenda_item,
        method: :post,
        url: work_package_meeting_agenda_items_path(@work_package),
      ) do |f|
        flex_layout(my: 3) do |flex|
          flex.with_row do
            if @base_errors&.any?
              render(Primer::Alpha::Banner.new(mb: 3, icon: :stop, scheme: :danger)) { @base_errors.join("\n") }
            end
          end
          flex.with_row do
            render(MeetingAgendaItem::MeetingForm.new(f, wrapper_id: 'add-work-package-to-meeting-dialog'))
          end
          flex.with_row(mt: 3) do
            render(MeetingAgendaItem::Notes.new(f))
          end
        end
      end
    end
    d.with_footer do
      component_collection do |buttons|
        buttons.with_component(Primer::ButtonComponent.new(
          data: {
            'close-dialog-id': "add-work-package-to-meeting-dialog"
          }
        )) do
          t("button_cancel")
        end
        buttons.with_component(Primer::ButtonComponent.new(scheme: :primary, type: :submit)) do
          t("button_save")
        end
      end
    end
  end
%>
